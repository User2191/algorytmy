{% extends "bootstrap/base.html" %}
{% block scripts %}
    {{ super() }}
    <link rel="stylesheet" href="main/includes/css.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <style>
    .nav-item1 a {
        color:#e8e8e8;
        background-color: #131315;
    }

        /* Nagłówek z przyciskami */
        .header {
            display: flex;
            justify-content: space-between;
            width: 100%;
        }

        .header button {
            background-color: transparent;
            border: none;
            font-size: 16px;
            color: #dadada;
            cursor: pointer;
        }

        .header button:hover {
            text-decoration: underline;
        }

        body {
            max-width: 500px;
            margin: auto;
            padding: 10px;
            justify-content: center;
        }

        h1, h2 {
            text-align: center;
            color: #dadada;
        }
        h2{
            margin-top: 30px;
        }

        .img{
            display: flex;
            justify-content: center;
        }


.profile-photo {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-bottom: 20px;
    position: relative;
    background-color: rgba(218, 218, 218);
    background-image: url("static/images/pfp.jpg");
    background-size: 125px 125px;
    background-position-x: center;
    border-radius: 50%;
    width: 120px;
    height: 120px;
    justify-content: center;
}


        #profile-img {
            border-radius: 50%;
            width: 120px;
            height: 120px;
            object-fit: cover;
            margin-bottom: 10px;
        }

        .edit-icon {
            position: absolute;
            bottom: 5px;
            right: 5px;
            background-color: rgba(128, 128, 128, 0.8);
            color: white;
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
        }

        .avatar-selection {
            display: none;
            position: absolute;
            top: 50px;
            background-color: white;
            border: 1px solid #ccc;
            border-radius: 8px;
            padding: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            z-index: 10;
        }

        .avatar-selection img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin: 5px;
            cursor: pointer;
        }

        /* Tabela do osiągnięć */

        .achievements-table {
            width: 350px;
            margin-top: 0px;
            border-collapse: collapse;
        }

        .achievements-table th, .achievements-table td {
            padding: 0px;
            border: 1px solid #ccc;
            text-align: center;
        }

        .achievements-table th {
            background-color: #f8f8f8;
        }

        .achievements-table input {
            width: 80%;
            padding: 5px;
            margin: 5px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }

        .add-achievement-btn {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            display: block;
            width: 100%;
            margin-top: 10px;
        }

        .add-achievement-btn:hover {
            opacity: 0.9;
        }

        form{
            margin: 0 auto;
        }
        table {
            border-collapse: collapse;
            width: 340px;
            font-size: 12px;
            background-color: #dadada;
            margin: 0 auto;
        }
        th, td {
            border: 2px solid #000000;
            text-align: center;
        }
        input{
            padding: 0;
            margin: 0;
        }
        #weight1,#weight2,#weight3,#weight4,#b{
            width: 60px;
        }
        #bm1,#bm2,#bm3,#bm4,#c{
            width: 79px;
        }
        #date1,#date2,#date3,#date4,#d{
            width: 60px;
        }
        #wilks1,#wilks2,#wilks3,#wilks4,#e{
            width: 40px;
        }
        .save{
            margin-bottom: 50px;
        }

    </style>
{% endblock %}

{% block title %}{{ title }}{% endblock %}
{% block content %}
<div class="header">
        <button id="logout-btn">Wyloguj</button>
        <button id="friends-btn" onclick="window.location.href='friends.html'">Friends</button>
</div>
<div class="img">
        <div class="profile-photo">
            <img src="avatar1.jpg" alt="." id="profile-img">
            <button class="edit-icon" id="edit-avatar-btn"><i class="bi bi-pen"></i></button>
            <div class="avatar-selection" id="avatar-selection">
                <img src="avatar1.jpg" alt="Avatar 1" class="avatar" onclick="changeAvatar('avatar1.jpg')">
                <img src="avatar2.jpg" alt="Avatar 2" class="avatar" onclick="changeAvatar('avatar2.jpg')">
                <img src="avatar3.jpg" alt="Avatar 3" class="avatar" onclick="changeAvatar('avatar3.jpg')">
                <img src="avatar4.jpg" alt="Avatar 4" class="avatar" onclick="changeAvatar('avatar4.jpg')">
            </div>
        </div>
</div>
    <h1 id="username">username</h1>

    <h2>PR's</h2>

    <form action="/submit" method="post">
        <table>
            <thead>
                <tr>
                    <th id="a">exercise</th>
                    <th id="b">weight(kg)</th>
                    <th id="c">body mass(kg)</th>
                    <th id="d">date</th>
                    <th id="e">wilks</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Bench Press</td>
                    <td><input id="weight1" name="weight1" value="0" required></td>
                    <td><input id="bm1" name="bm1" value="0" required></td>
                    <td><input id="date1" type="date" name="date1" required></td>
                    <td id="wilks1"></td>
                </tr>
                <tr>
                    <td>Deadlift</td>
                    <td><input id="weight2" name="weight1" value="0" required></td>
                    <td><input id="bm2" name="bm1" value="0" required></td>
                    <td><input id="date2" type="date" name="date1" required></td>
                    <td id="wilks2"></td>
                </tr>
                <tr>
                    <td>Squat</td>
                    <td><input id="weight3" name="weight1" value="0" required></td>
                    <td><input id="bm3" name="bm1" value="0" required></td>
                    <td><input id="date3" type="date" name="date1" required></td>
                    <td id="wilks3"></td>
                </tr>
                <tr>
                    <td>1</td>
                    <td><input id="weight4" name="weight1" value="0" required></td>
                    <td><input id="bm4" name="bm1" value="0" required></td>
                    <td><input id="date4" type="date" name="date1" required></td>
                    <td id="wilks4"></td>
                </tr>


            </tbody>
        </table>
        <div style="text-align: center;">
            <button class="save" type="submit">Save</button>
        </div>
    </form>


    <script>
        // Pokazuje wybór avatarów
        document.getElementById('edit-avatar-btn').onclick = function() {
            var avatarSelection = document.getElementById('avatar-selection');
            avatarSelection.style.display = avatarSelection.style.display === 'block' ? 'none' : 'block';
        };

        // Zmienia zdjęcie profilowe na wybrany avatar
        function changeAvatar(avatar) {
            document.getElementById('profile-img').src = avatar;
            document.getElementById('avatar-selection').style.display = 'none';
        }

        // Możesz zaktualizować nazwę użytkownika dynamicznie
        var username = "Jan Kowalski";  // Tutaj możesz dynamicznie przypisać nazwę użytkownika
        document.getElementById('username').innerText = username;

        // Funkcja dla przycisku 'Wyloguj'
        document.getElementById('logout-btn').onclick = function() {
            // Możesz dodać logikę wylogowania, np. usuwanie sesji
            alert('Wylogowywanie...');
            window.location.href = 'login.html';  // Przekierowanie do strony logowania
        };

    </script>
    {% include "main/includes/footer.html" %}
{% endblock %}